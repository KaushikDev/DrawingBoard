<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0"/>
    <title>DrawingBoard</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	
	
	  <style>
		body { padding: 0; margin: 0; background:black;}
    	canvas { background: black ; display: block; margin: 0 auto; }
		
    </style>
</head>
<body>

<canvas id="canvas"></canvas>
<div class="container">
<div class="row text-center">
<div class="col-xs-3">
<button class="btn btn-sm"  style="border-radius:5px;margin-top:5px;margin-bottom:5px;width:auto;" onclick="colorPicker('black')">Eraser</button>
</div>

<div class="col-xs-6">
<button class="btn btn-sm"  href="" data-toggle="modal" data-target="#selection" style="border-radius:5px;margin-top:5px;margin-bottom:5px;width:100%;">Brush Preferences</button>
</div>

<div class="col-xs-3">
<a class="btn btn-sm btn-default" id="save" href="" style="border-radius:5px;margin-top:5px;margin-bottom:5px;width:auto;" onclick="save()" >Save</a>


</div>
</div>

<div class="row text-center">
<div class="col-xs-12">
<p style="color:white"><i class="fa fa-copyright"></i>KaushikCodeArts : App by Piyush Kaushik</p>
</div>
</div>

<div class="row text-center">
<div class="col-xs-12">
<a id="fb" class="btn btn-default text-center" style="background-color:transparent;border-color:transparent;font-style:bold;" href="https://www.facebook.com/sharer/sharer.php?u=https://KaushikDev.github.io/DrawingBoard" target="_blank"><i class="fa fa-facebook" style="color:white;font-size:20px;"></i></a>
	 
         <a id="whatsapp" class="btn btn-default text-center" style="background-color:transparent;border-color:transparent;font-style:bold;" href="whatsapp://send?text=https://KaushikDev.github.io/DrawingBoard"><i class="fa fa-whatsapp" style="color:white;font-size:20px;"></i></a>
		 
         <a id="tweet" class="btn btn-default text-center" style="background-color:transparent;border-color:transparent;" href="https://twitter.com/home?status=https://KaushikDev.github.io/DrawingBoard" target="_blank"><i class="fa fa-twitter"  style="color:white;font-size:20px;font-style:bold;"></i></a>
</div>
</div>

</div>

        
<!-- Selection Modal -->
  <div class="modal fade" id="selection" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
		  <h4 class="modal-title">Click any color/brush to choose : </h4>
        </div>
        <div class="modal-body">
          
		  
		  <div style="text-align: center;">
<p>Brush Colors : </p>
<button class="btn btn-sm" style="background-color:violet;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('violet')"></button>

<button class="btn btn-sm" style="background-color:indigo;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('indigo')"></button>

<button class="btn btn-sm" style="background-color:blue;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('blue')"></button>

<button class="btn btn-sm" style="background-color:LawnGreen;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('LawnGreen')"></button>

<button class="btn btn-sm" style="background-color:yellow;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('yellow')"></button>

<button class="btn btn-sm" style="background-color:orange;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('orange')"></button>

<button class="btn btn-sm" style="background-color:red;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('red')"></button>

<br>

<button class="btn btn-sm" style="background-color:Purple;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('Purple')"></button>

<button class="btn btn-sm" style="background-color:BlueViolet;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('BlueViolet')"></button>

<button class="btn btn-sm" style="background-color:Darkblue;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('Darkblue')"></button>

<button class="btn btn-sm" style="background-color:DarkGreen;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('DarkGreen')"></button>

<button class="btn btn-sm" style="background-color:GoldenRod;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('GoldenRod')"></button>

<button class="btn btn-sm" style="background-color:OrangeRed;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('OrangeRed')"></button>

<button class="btn btn-sm" style="background-color:DarkRed;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('DarkRed')"></button>

<br>

<button class="btn btn-sm" style="background-color:LightPink;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('LightPink')"></button>

<button class="btn btn-sm" style="background-color:MediumPurple;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('MediumPurple')"></button>

<button class="btn btn-sm" style="background-color:LightSkyBlue;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('LightSkyBlue')"></button>

<button class="btn btn-sm" style="background-color:LimeGreen;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('LimeGreen')"></button>

<button class="btn btn-sm" style="background-color:Khaki;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('Khaki')"></button>

<button class="btn btn-sm" style="background-color:DarkOrange;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('DarkOrange')"></button>

<button class="btn btn-sm" style="background-color:Brown;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('Brown')"></button>

<br>

<button class="btn btn-sm" style="background-color:Black;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('Black')"></button>

<button class="btn btn-sm" style="background-color:Magenta;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('Magenta')"></button>

<button class="btn btn-sm" style="background-color:Turquoise;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('Turquoise')"></button>

<button class="btn btn-sm" style="background-color:Lime;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('Lime')"></button>

<button class="btn btn-sm" style="background-color:Gold;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('Gold')"></button>

<button class="btn btn-sm" style="background-color:Coral;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('Coral')"></button>

<button class="btn btn-sm" style="background-color:Gray;border-radius:50%;width:30px;height:30px;" onclick="colorPicker('Gray')"></button>

<br>
<!--<br>
<button class="btn btn-md" style="background-color:white;border-color:black;border-radius:5px;color:Black;font-size:20px;" onclick="colorPicker('white')">Eraser</button>

<br> -->
<br>

<p>Brush Sizes : </p>
<button style="background-color:transparent;border-color:transparent;color:black" onclick="brushPicker(2)"><i class="fa fa-paint-brush"></i></button>
<button style="background-color:transparent;border-color:transparent;color:black" onclick="brushPicker(4)"><i class="fa fa-paint-brush fa-2x"></i></button>
<button style="background-color:transparent;border-color:transparent;color:black" onclick="brushPicker(6)"><i class="fa fa-paint-brush fa-3x"></i></button>
<button style="background-color:transparent;border-color:transparent;color:black" onclick="brushPicker(10)"><i class="fa fa-paint-brush fa-4x"></i></button>
<button style="background-color:transparent;border-color:transparent;color:black" onclick="brushPicker(15)"><i class="fa fa-paint-brush fa-5x"></i></button>
        </div>
		</div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Done</button>
        </div> 
      </div>
      
    </div>
  </div>
<script>
	var canvas = document.getElementById("canvas");
	var ctx = canvas.getContext("2d");
	
	canvas.width = window.innerWidth;
	canvas.height = window.innerHeight * 0.80;
	
	var link = document.getElementById("save");
	
	var moveX = 1;
	var moveY = 1;
	var currentX;
	var currentY;
	var flagMouseDown = false;
	var flagTouchStart = false;
	var brushColor = "white";
	var brushSize = 2;
	
		function draw(currentX, currentY){
			
			ctx.lineWidth = brushSize;
			ctx.lineTo(currentX, currentY);
			ctx.strokeStyle=brushColor;
			ctx.stroke();
			}
		
		canvas.addEventListener("mouseup", mouseUpHandler, false);
		canvas.addEventListener("mousemove", mouseMoveHandler, false);
		canvas.addEventListener("mousedown", mouseDownHandler, false);
		canvas.addEventListener("touchstart", touchStartHandler, {passive: false});
		canvas.addEventListener("touchmove", touchMoveHandler, {passive: false});
		canvas.addEventListener("touchend", touchEndHandler, false);
		
		function mouseDownHandler(e) {
			
			flagMouseDown = true;
			ctx.beginPath();
			
        }
		
		function mouseMoveHandler(e) {
			if(flagMouseDown){
			currentX = e.clientX - canvas.offsetLeft;
			currentY = e.clientY - canvas.offsetTop;
			draw(currentX, currentY);
			}
		}
		
		function mouseUpHandler(e) {
            flagMouseDown = false;
			ctx.closePath();
        }
		
		function touchStartHandler(e) {
            flagTouchStart = true;
			ctx.beginPath();
			
        }
		
		function touchMoveHandler(e) {
            if(flagTouchStart){
			currentX = e.touches[0].clientX - canvas.offsetLeft;
			currentY = e.touches[0].clientY  - canvas.offsetTop;
			draw(currentX, currentY);
			}
        }
		
		function touchEndHandler(e) {
            flagTouchStart = false;
			ctx.closePath();
        }
		
		function colorPicker(color){
			brushColor=color;
			console.log("Brush Color is : "+color);
		}
		
		function brushPicker(size){
			brushSize=size;
			console.log("Brush Size is : "+size);
		}
		
		function clear(){
			
			//ctx.clearRect(0,0,canvas.width,canvas.height);
			
		}
		
		function save(){
			
			link.href = canvas.toDataURL();
			link.download = "KaushikCodeArt_image.png";
			
			
		}
</script>

</body>
</html>
